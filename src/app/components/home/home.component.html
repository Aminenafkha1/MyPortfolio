<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-background">
    <div class="code-rain" *ngFor="let line of codeLines; let i = index" 
         [style.left.px]="line.x" 
         [style.animation-delay]="line.delay + 's'">
      {{line.text}}
    </div>
  </div>
  
  <div class="container hero-content">
    <div class="hero-text">
      <div class="hero-greeting">
        <span class="greeting-text">{{ currentGreeting }}</span>
        <span class="cursor">|</span>
      </div>
      
      <h1 class="hero-title">
        I'm a <span class="highlight">.NET</span> Developer
      </h1>
      
      <p class="hero-subtitle">
        Building robust applications with <strong>C#</strong>, <strong>ASP.NET Core</strong>, 
        <strong>ASP.NET MVC</strong>, and modern web technologies
      </p>
      
      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-number">{{ experienceYears }}+</div>
          <div class="stat-label">Years Experience</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">{{ projectsCompleted }}+</div>
          <div class="stat-label">Projects Completed</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">{{ technologiesUsed }}+</div>
          <div class="stat-label">Technologies</div>
        </div>
      </div>
      
      <div class="hero-actions">
        <a routerLink="/projects" class="btn btn-primary btn-lg">
          <i class="fas fa-code"></i>
          View My Projects
        </a>
        <a routerLink="/contact" class="btn btn-secondary btn-lg">
          <i class="fas fa-envelope"></i>
          Get In Touch
        </a>
      </div>
      
      <div class="tech-stack">
        <div class="tech-label">Tech Stack:</div>
        <div class="tech-icons">
          <div class="tech-icon" *ngFor="let tech of techStack">
            <i [class]="tech.icon"></i>
            <span>{{tech.name}}</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="hero-visual">
      <!-- Code Editor with Integrated Profile Section -->
      <div class="code-editor">
        <div class="editor-header">
          <div class="editor-tabs">
            <div class="tab active">Developer.cs</div>
            <div class="tab">Program.cs</div>
            <div class="tab">Startup.cs</div>
          </div>
          <div class="editor-controls">
            <span class="control close"></span>
            <span class="control minimize"></span>
            <span class="control maximize"></span>
          </div>
        </div>
        <div class="editor-content">
          <div class="line-numbers">
            <span *ngFor="let line of editorLines; let i = index">{{i + 1}}</span>
          </div>
          <div class="code-content">
            <!-- Developer Profile Section Inside Code Editor -->
            <div class="code-profile-section">
              <div class="profile-photo-container">
                <div class="profile-photo-frame">
                  <img src="assets/images/me.jpg" 
                       alt="Amine - .NET Developer" 
                       class="profile-photo"
                       (error)="onImageError($event)">
                </div>
                <div class="profile-status">
                  <div class="status-dot"></div>
                  <span>Available for work</span>
                </div>
              </div>
              
              <div class="profile-info">
                <h3 class="developer-name">Amine Nafkha</h3>
                <p class="developer-role">.NET Developer</p>
                <div class="developer-location">
                  <i class="fas fa-map-marker-alt"></i>
                  <span>Tunisia</span>
                </div>
                
                <div class="profile-social-links">
                  <a href="https://www.linkedin.com/in/amine-nafkha/" target="_blank" class="profile-social-link" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                  </a>
                  <a href="https://github.com/Aminenafkha1" target="_blank" class="profile-social-link" title="GitHub">
                    <i class="fab fa-github"></i>
                  </a>
                  <a href="https://twitter.com/AmineNafkha" target="_blank" class="profile-social-link" title="Twitter">
                    <i class="fab fa-twitter"></i>
                  </a>
                  <a href="mailto:aminenafkha@gmail.com" class="profile-social-link" title="Email">
                    <i class="fas fa-envelope"></i>
                  </a>
                </div>
              </div>
            </div>
            
            <!-- Code Content -->
            <div class="actual-code">
              <pre><code [innerHTML]="getHighlightedCode()"></code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="scroll-indicator">
    <div class="scroll-arrow">
      <i class="fas fa-chevron-down"></i>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section section">
  <div class="container">
    <div class="section-header text-center">
      <h2>What I Specialize In</h2>
      <p>Building robust, scalable applications with modern development practices</p>
    </div>
    
    <div class="features-grid grid-3">
      <div class="feature-card card" *ngFor="let feature of features">
        <div class="feature-icon">
          <i [class]="feature.icon"></i>
        </div>
        <h3>{{feature.title}}</h3>
        <p>{{feature.description}}</p>
      </div>
    </div>
  </div>
</section>

<!-- Latest Articles Section -->
<section class="latest-articles-section section bg-secondary">
  <div class="container">
    <div class="section-header text-center">
      <h2>Latest Articles</h2>
      <p>Recent insights and tutorials about .NET development, cloud architecture, and modern software practices</p>
    </div>
    
    <div class="articles-preview grid-2">
      <div class="article-card card" *ngFor="let article of latestArticles">
        <div class="article-image">
          <div class="mini-blog-header">
            <div class="mini-header-overlay">
              <div class="mini-header-content">
                <div class="mini-author">Amine Nafkha</div>
                <div class="mini-title">{{article.title}}</div>
                <div class="mini-category">{{article.category}}</div>
              </div>
            </div>
            <div class="mini-patterns">
              <div class="mini-pattern mini-pattern-1"></div>
              <div class="mini-pattern mini-pattern-2"></div>
            </div>
          </div>
          <div class="article-overlay">
            <a [routerLink]="['/blog', article.id]" class="article-link">
              <i class="fas fa-book-open"></i>
            </a>
          </div>
          <div class="article-meta">
            <span class="article-category">{{article.category}}</span>
            <span class="article-date">{{article.publishDate | date:'MMM dd, yyyy'}}</span>
          </div>
        </div>
        <div class="article-content">
          <h3>{{article.title}}</h3>
          <p>{{article.excerpt}}</p>
          <div class="article-info">
            <div class="article-tags">
              <span class="tech-tag" *ngFor="let tag of article.tags.slice(0, 3)">{{tag}}</span>
            </div>
            <div class="article-read-time">
              <i class="fas fa-clock"></i>
              {{article.readTime}}
            </div>
          </div>
          <a [routerLink]="['/blog', article.id]" class="read-more-link">
            Read Article <i class="fas fa-arrow-right"></i>
          </a>
        </div>
      </div>
    </div>
    
    <div class="text-center mt-5">
      <a routerLink="/blog" class="btn btn-primary">
        <i class="fas fa-newspaper"></i>
        View All Articles
      </a>
    </div>
  </div>
</section>

<!-- Blog Newsletter Subscription Section -->
<section class="newsletter-section section">
  <div class="container">
    <div class="newsletter-container">
      <div class="newsletter-content">
        <div class="newsletter-header">
          <div class="newsletter-icon">
            <i class="fas fa-newspaper"></i>
          </div>
          <h2>Stay Updated with My Latest Articles</h2>
          <p>Get notified when I publish new articles about .NET development, best practices, and cutting-edge technologies. Join {{subscriberCount}}+ developers who never miss an update!</p>
          <div class="kit-powered">
            <span>Powered by <a href="https://builtwith.kit.com" target="_blank" rel="noopener">Kit.com</a></span>
          </div>
        </div>

        <div class="newsletter-form-container">
          <!-- Success Message -->
          <div *ngIf="subscriptionStatus.success" class="subscription-success">
            <i class="fas fa-check-circle"></i>
            <h3>Welcome to the Newsletter!</h3>
            <p>{{subscriptionStatus.message}}</p>
            <div class="kit-success-note">
              <small>You'll receive a confirmation email from Kit.com to complete your subscription.</small>
            </div>
          </div>

          <!-- Subscription Form -->
          <form *ngIf="!subscriptionStatus.success" [formGroup]="subscriptionForm" (ngSubmit)="onSubscribe()" class="newsletter-form">
            <div class="form-group">
              <div class="input-group">
                <div class="input-icon">
                  <i class="fas fa-envelope"></i>
                </div>
                <input 
                  type="email" 
                  formControlName="email"
                  placeholder="Enter your email address"
                  class="newsletter-input"
                  [class.error]="subscriptionForm.get('email')?.invalid && subscriptionForm.get('email')?.touched">
                <button 
                  type="submit" 
                  class="newsletter-btn"
                  [disabled]="isSubscribing || subscriptionForm.invalid">
                  <span *ngIf="!isSubscribing">
                    <i class="fas fa-bell"></i>
                    Subscribe
                  </span>
                  <span *ngIf="isSubscribing">
                    <i class="fas fa-spinner fa-spin"></i>
                    Subscribing...
                  </span>
                </button>
              </div>
              <div *ngIf="subscriptionForm.get('email')?.invalid && subscriptionForm.get('email')?.touched" class="error-message">
                Please enter a valid email address
              </div>
              <div *ngIf="subscriptionStatus.error" class="error-message">
                {{subscriptionStatus.message}}
              </div>
            </div>
          </form>

          <div class="newsletter-benefits">
            <div class="benefit-item">
              <i class="fas fa-code"></i>
              <span>Latest .NET tutorials</span>
            </div>
            <div class="benefit-item">
              <i class="fas fa-lightbulb"></i>
              <span>Best practices & tips</span>
            </div>
            <div class="benefit-item">
              <i class="fas fa-rocket"></i>
              <span>New project showcases</span>
            </div>
            <div class="benefit-item">
              <i class="fas fa-envelope-open"></i>
              <span>Powered by Kit.com</span>
            </div>
            <div class="benefit-item">
              <i class="fas fa-shield-alt"></i>
              <span>No spam, unsubscribe anytime</span>
            </div>
          </div>
        </div>
      </div>

      <div class="newsletter-visual">
        <div class="newsletter-mockup">
          <div class="email-preview">
            <div class="email-header">
              <div class="email-subject">New Article: Advanced C# Patterns</div>
              <div class="email-from">From: Amine Nafkha</div>
            </div>
            <div class="email-content">
              <h4>This Week's Article</h4>
              <p>Discover advanced design patterns in C# that will make your code more maintainable...</p>
              <div class="email-cta">
                <span class="read-more-btn">Read Full Article →</span>
              </div>
            </div>
          </div>
          <div class="floating-icons">
            <i class="fas fa-code floating-icon" style="--delay: 0s"></i>
            <i class="fab fa-microsoft floating-icon" style="--delay: 1s"></i>
            <i class="fas fa-database floating-icon" style="--delay: 2s"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section section">
  <div class="container text-center">
    <h2>Ready to Build Something Amazing?</h2>
    <p>Let's discuss your next project and bring your ideas to life with cutting-edge technology</p>
    <div class="cta-actions">
      <a routerLink="/contact" class="btn btn-primary btn-lg">
        <i class="fas fa-rocket"></i>
        Start a Project
      </a>
      <a href="mailto:your.email@example.com" class="btn btn-outline btn-lg">
        <i class="fas fa-envelope"></i>
        Send Email
      </a>
    </div>
  </div>
</section>